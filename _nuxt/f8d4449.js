(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{518:function(n,l,e){"use strict";e.r(l);var o={name:"SCROLLEVENT",layout:"blog"},t=e(14),component=Object(t.a)(o,(function(){var n=this,l=n._self._c;return l("div",[l("h2",[n._v("scroll / wheel ( event )")]),n._v(" "),l("pre",[n._v("      "),l("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"vue"},[n._v("// template\n<button class=\"scrollTop\" :class=\"{active: activeTopButton}\" @click=\"scrollTop()\">\n  TOP\n</button>\n\n// script\nexport default {\n  name: 'SCROLLTOP',\n  data () {\n    return {\n      activeTopButton: false,\n      scrollH: 0,\n      scrollDirection: null\n    }\n  },\n  beforeMount () {\n    window.addEventListener('scroll', this.handleScroll)\n    window.addEventListener('wheel', this.handleWheel)\n  },\n  beforeDestroy () {\n    window.removeEventListener('scroll', this.handleScroll)\n    window.removeEventListener('wheel', this.handleWheel)\n  },\n  methods: {\n    scrollTop () {\n      const isActive = event.target.className.includes('active')\n      if (isActive) { window.scrollTo({ top: 0, behavior: 'smooth' }) }\n    },\n    handleScroll () {\n      const scrT = window.scrollY // window.pageYOffset || document.documentElement.scrollTop\n      if (scrT > this.scrollH) {\n        console.log('down scroll')\n      } else {\n        console.log('up scroll')\n      }\n\n      this.scrollH = scrT;\n\n      this.activeTopButton = scrT > 20\n    },\n    handleWheel () {\n      this.scrollDirection = event.deltaY > 0 ? 'up' : 'down'\n      console.log('wheel', event.deltaY, this.scrollDirection)\n    }\n  }\n}")]),n._v("\n    ")]),n._v(" "),l("p",[n._v("scroll down")]),n._v(" "),l("p",[n._v("scroll down")]),n._v(" "),l("p",[n._v("scroll down")]),n._v(" "),l("p",[n._v("scroll down")]),n._v(" "),l("p",[n._v("scroll down")]),n._v(" "),l("p",[n._v("scroll down")]),n._v(" "),l("h2",[n._v("nuxt 에서 eventBus")]),n._v(" "),l("pre",[n._v("      "),l("code",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"javascript"},[n._v("/* $emit\n * layouts/Default.vue 에서\n * emit 날릴때\n */\nhandleScroll () {\n  const scrollH = window.scrollY\n  this.$nuxt.$emit('winScrollH', scrollH)\n}\n\n/* $on\n * components/Header.vue 에서 * 받을때\n */\nmounted () {\n  this.$nuxt.$on('winScrollH', this.getWinScrollH)\n},\nbeforeDestroy () {\n  this.$nuxt.$off('windowScrollH', this.getWinScrollH)\n},\nmethods: {\n  getWinScrollH (val) {\n    /*\n     * 여기 val ( scrollH ) 값으로 처리\n     */\n    this.scrollH = val;\n  }\n}")]),n._v("\n    ")])])}),[],!1,null,null,null);l.default=component.exports}}]);